---
layout: post
title:  "유사문제 추천로직 (2025-04-05 ~ 2025-04-06) [이태우]"
date:   2025-04-04 10:00:00 +0900
---

---

### 요약

- OJ(Online Judge) 시스템에서 사용자가 문제를 등록할 때, 해당 문제에 대해 태그를 자동으로 다중 분류(Multi-Classification)하고, 태그를 기반으로 유사한 문제를 추천하는 기능을 개발하고자 한다.

- 초기 아이디어로는 **답안 코드(Code) 분석을 기반으로 태깅을 수행**하는 방식을 고려했으나, 여러 문제점이 있어 **사용자 직접 태깅 방식**을 도입하기로 하였다.

---

### 1. AI  기반 자동 태깅 방식 고려

#### **1) 오픈소스 참고 자료**

- [PSG_Predicting_Algorithm_Tags_and_Difficulty](https://github.com/sronger/PSG_Predicting_Algorithm_Tags_and_Difficulty)
- [Predictive-modelling-for-Multi-label-tagging](https://github.com/LaxmikantKabra/Predictive-modelling-for-Multi-label-tagging)

#### **2) 예상되는 문제점**

1. **데이터셋의 한계**
    - 위 오픈소스 모델들은 **Codeforces 데이터셋**을 활용하여 학습되었으며, 알고리즘 중심 태깅(BFS, DP 등)에 최적화됨.
    - C 기초 문법(조건문, 반복문, 배열 등)에 대한 태깅이 부족할 가능성이 큼.
2. **언어 문제**
    - 문제 설명이 **영어**로 되어 있어, 한국어 문제에 적용할 경우 **번역 과정에서 정확도가 저하**될 가능성이 있음.
3. **정확도 문제**
    - 기존 AI 모델들의 태깅 정확도가 낮아, **실제 문제를 분류하는 기준과 다를 수 있음**.
4. **처리 속도 문제**
    - AI 태깅 모델 적용 시, 문제 하나를 태깅하는 데 약 **30~40초 소요**됨.
    - 실시간으로 문제를 등록하는 OJ 시스템에서는 **비효율적**임.
5. **오픈소스 활용 여부**
    - 기존 오픈소스를 활용하지 않을 경우, 직접 **데이터셋 구축(문제 크롤링 및 라벨링) 및 모델 학습**이 필요함.
    - 이는 **시간과 리소스가 많이 소요됨**.

#### **3) 결론**

- AI 기반 자동 태깅 방식은 **한국어 문제 적용 및 정확도 문제**로 인해 실용성이 낮음.

- 따라서 **사용자가 직접 태그를 입력하는 방식이 현실적인 대안**이 될 수 있음.

---

### 2. 사용자 지정 태그 방식

#### **1) 개요**

- 사용자가 **문제를 등록할 때 직접 태그를 입력**하는 방식
- 출제자의 의도를 **정확하게 반영**할 수 있음
- **빠른 문제 등록 가능**

#### 2) 예상되는 문제점

1. **사용자 실수 가능성**
    - 잘못된 태그 입력 가능 → **자동 추천 기능 필요** (자주 사용된 태그 추천)
2. **UI 수정 필요**
    - OJ 시스템에서 **태그 입력 UI 추가 필요**
    - 태그 선택형 드롭다운 또는 자동완성 기능 고려
3. **태그 체계 정의 필요**
    - 태그를 **어떤 기준으로 나눌 것인지** 결정해야 함.
    - **태그의 세분화 수준에 따라 추천 정확도가 달라짐.**

#### **3) 결론**

- 사용자 태깅 방식은 **빠른 등록과 출제자의 의도 반영**이라는 장점이 있지만,

- 태그 실수 및 관리 문제를 해결하기 위해 **태그 자동 추천 기능과 UI 개선이 필요**함.

---

### **3. 유사 문제 추천 기능**

#### **유사도 분석 및 추천 방식**

- 입력된 문제의 태그를 기준으로 CodeUp 문제 및 내부 문제 데이터와 매칭
- N% 이상 공통 태그를 보유한 문제 추천
- 추천된 문제는 CodeUp 문제 링크를 통해 제공
- CodeUp 문제 리스트를 DB에 저장하고 정기적으로 업데이트

---

### **4. 태그 체계 정의 (문제 분류 기준)**

#### **1. C 언어 기초 문법 태그**

| 분류 | 태그 |
| --- | --- |
| **입출력 및 연산** | `입출력` `사칙연산` `형 변환` |
| **조건문** | `if문`  |
| **반복문 및 제어문** | `for문` `while문` `break/continue` |
| **배열 및 문자열** | `1차원 배열` `다차원 배열` `문자열 처리` |
| **함수** | `기본 함수` `재귀 함수` `포인터 함수` |
| **포인터** | `포인터 기본` `포인터와 배열` `포인터 연산` |

#### **2. 기초 알고리즘 태그**

| 분류 | 태그 |
| --- | --- |
| **수학 관련 문제** | `최대공약수(GCD) / 최소공배수(LCM)` `소수 판별` `약수 구하기` `배수와 나머지` |
| **배열과 정렬 알고리즘** | `최대값/최소값 찾기` `배열 정렬` `중복 제거` `배열 뒤집기` |
| **탐색 알고리즘** | `순차 탐색` |
| **구현 문제** | `좌표 이동` `행렬 연산` `문자열 조작` |

---

### **5. 시스템 구축 및 확장 계획**

#### **1) 문제 등록 및 태그 지정**

- 사용자가 OJ 시스템에서 **새로운 문제 등록 시 태그 직접 입력**

- 태그 입력 방식: **드롭다운 선택 + 직접 입력 기능 제공**

- 문제와 태그를 데이터베이스(DB)에 저장

#### **2) 데이터베이스 설계**

- 문제 테이블 (Problems)

- 태그 테이블 (Tags)

- 문제-태그 연결 테이블 (Problem_Tags)

#### **3) 유사 문제 추천 시스템**

- 태그 기반 문제 필터링

- CodeUp 문제 링크 제공

- DB 최적화 및 검색 속도 개선

#### **4) UI/UX 개선**

- 태그 자동 추천 기능

- 태그 관리 기능 (수정/삭제 가능)

- 문제 상세 페이지에서 **유사 문제 추천 결과 표시**

#### **5) 성능 및 확장성 고려**

-  검색 및 추천 속도 최적화

- 향후 **AI 기반 태그 자동 추천 기능 추가 가능**

---

### 유사문제 추천로직

#### **1) 태그 기반 Jaccard 유사도**

사용자가 문제를 등록할 때 지정한 태그 정보를 기반으로, 기존에 등록된 문제들과의 **유사도를 계산**하여 유사한 문제를 추천한다.

유사도 계산에는 **Jaccard Similarity** 알고리즘을 사용한다.

#### **2) Jaccard Similarity 정의**

두 문제 간의 태그 집합 A, B가 있을 때:

$$
Jaccard(A,B)=∣A∩B∣∣A∪B∣\text{Jaccard}(A, B) = \frac{|A \cap B|}{|A \cup B|}
$$

- 즉, **공통 태그 수를 전체 태그 수로 나눈 비율**을 유사도로 사용한다.
- 유사도 값은 0 ~ 1 사이의 실수이며, 1에 가까울수록 더 유사하다고 판단한다.

---

